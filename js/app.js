document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelectorAll(".accordion-header");e.length&&e.forEach((e=>{e.addEventListener("click",(()=>{const t=e.closest(".accordion-item");t&&(document.querySelectorAll(".accordion-item.active").forEach((e=>{e!==t&&e.classList.remove("active")})),t.classList.toggle("active"))}))}));const t=document.querySelector(".header__menu"),n=document.getElementById("mobileNav"),o=document.getElementById("navOverlay"),d=document.getElementById("navCloseBtn"),l=()=>{n&&o&&(n.classList.remove("is-open"),o.classList.remove("is-open"),document.body.classList.remove("nav-open"),n.setAttribute("aria-hidden","true"),o.setAttribute("aria-hidden","true"))};t&&n&&o&&d&&(t.addEventListener("click",(()=>{n&&o&&(n.classList.add("is-open"),o.classList.add("is-open"),document.body.classList.add("nav-open"),n.setAttribute("aria-hidden","false"),o.setAttribute("aria-hidden","false"))})),d.addEventListener("click",l),o.addEventListener("click",l),document.addEventListener("keydown",(e=>{"Escape"===e.key&&l()})),n.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{const n=e.getAttribute("href"),o=n?document.querySelector(n):null;o&&(t.preventDefault(),l(),o.scrollIntoView({behavior:"smooth",block:"start"}))}))})));const i=document.querySelectorAll(".registerBtn"),r=document.getElementById("registrationModal"),a=document.getElementById("closeModalBtn"),c=document.querySelector(".homeModalOverlay"),s=document.getElementById("registrationForm"),m=document.getElementById("name"),u=document.getElementById("nameError"),y=document.getElementById("phone"),v=document.getElementById("phoneError"),E=document.getElementById("submitBtn"),p=window.phoneFormatter;let g=!1,h=0;const L=()=>{r&&(l(),g=!0,h=window.scrollY||0,r.style.display="block",document.body.style.overflow="hidden",u&&(u.style.display="none"),v&&(v.style.display="none"))},f=()=>{r&&g&&(g=!1,r.style.display="none",document.body.style.overflow="",window.scrollTo(0,h))};i.forEach((e=>e.addEventListener("click",L))),a?.addEventListener("click",f),c?.addEventListener("click",f),s?.addEventListener("submit",(e=>{if(e.preventDefault(),!p)return console.error("phoneFormatter is not initialized. Check load order."),void(v&&(v.style.display="block"));const t=m?.value?.trim()||"",n=y?.value?.trim()||"";let o=!1;if(t?u&&(u.style.display="none"):(u&&(u.style.display="block"),o=!0),p.validate(n)?v&&(v.style.display="none"):(v&&(v.style.display="block"),o=!0),o)return;E&&(E.textContent="YUBORILMOQDA...",E.disabled=!0);const d=new Date,l=d.toLocaleDateString("uz-UZ"),i=d.toLocaleTimeString("uz-UZ"),r={Ism:t,TelefonRaqam:`${p.getCurrentCode()} ${n}`,SanaSoat:`${l} - ${i}`};localStorage.setItem("formData",JSON.stringify(r)),m&&(m.value=""),y&&(y.value=""),f(),window.location.href="/thankYou.html",E&&(E.textContent="DAVOM ETISH",E.disabled=!1)}));const w=document.getElementById("timer");if(w){let e=120;const t=()=>{const t=Math.floor(e/60),o=e%60;w.textContent=`${String(t).padStart(2,"0")}:${String(o).padStart(2,"0")}`,e<=0?clearInterval(n):e-=1};t();const n=setInterval(t,1e3)}})),document.getElementById("callBtn")?.addEventListener("click",(()=>{window.location.href="tel:+998555084400"})),document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".olympics-swiper")&&window.Swiper){const e=new Swiper(".olympics-swiper",{slidesPerView:1,loop:!0,speed:600,autoplay:{delay:1800,disableOnInteraction:!1}});document.querySelector(".swiper-next-btn").addEventListener("click",(function(){e.slideNext()}))}}));